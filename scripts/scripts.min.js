var site={contactForm:$(".contact-form"),contactFormMessages:$(".form-messages"),formData:null,init:function(){Modernizr.input.placeholder||($("[placeholder]").focus(function(){var e=$(this);e.val()==e.attr("placeholder")&&(e.val(""),e.removeClass("placeholder"))}).blur(function(){var e=$(this);""!==e.val()&&e.val()!=e.attr("placeholder")||(e.addClass("placeholder"),e.val(e.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")})})),$(".contact-form").validate({errorContainer:".error-messages",errorLabelContainer:".error-messages .container",rules:{name:{required:!0},email:{required:!0,email:!0},message:{required:!0}},messages:{name:{required:"Please enter your full name"},email:{required:"Please enter your email address",email:"Please enter your email in the correct format (you@yourdomain.com)"},message:{required:"Please enter your message"}},submitHandler:function(e){site.formData=$(".contact-form").serialize(),$.ajax({type:"POST",url:$(".contact-form").attr("action"),data:site.formData}).done(function(e){$(site.contactFormMessages).removeClass("error").addClass("success"),$(site.contactFormMessages).text(e),$("#name").val(""),$("#email").val(""),$("#message").val("")}).fail(function(e){$(site.contactFormMessages).removeClass("success").addClass("error"),""!==e.responseText?$(site.contactFormMessages).text(e.responseText):$(site.contactFormMessages).text("Oops! An error occured and your message could not be sent.")})}})}};$(document).ready(function(){site.init()});